!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.orbitsjs=e():t.orbitsjs=e()}(self,(()=>(()=>{"use strict";var t={d:(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function o(t){return t-360*Math.floor(t/360)}function r(t,e){void 0===t&&(t=0),void 0===e&&(e=0);const n=o(t),c=o(e);if(n<=c){const t=c-n;return t<=180?t:c-(n+360)}return-r(e,t)}function n(t,e,r){return o(t+e/60+r/3600)}function c(t){let e=o(t),r=Math.floor(e),n=Math.floor(60*(e-r));return{deg:r,arcMin:n,arcSec:3600*(e-r-n/60)}}function s(t){let e=o(t);const r=Math.floor(e/15),n=Math.floor((e-15*r)/.25);return{hour:r,minute:n,second:(e-15*r-.25*n)/.004166666666666667}}function i(t,e,r){return o(15*t+.25*e+.004166666666666667*r)}function d(t){return Math.sin(Math.PI/180)}function u(t){return Math.cos(Math.PI/180)}t.r(e),t.d(e,{angleArcDeg:()=>n,angleDegArc:()=>c,angleDegHms:()=>s,angleDiff:()=>r,angleHmsDeg:()=>i,coordEclEq:()=>h,coordEfiPef:()=>k,coordEqEcl:()=>g,coordJ2000Mod:()=>m,coordModJ2000:()=>P,coordModTod:()=>b,coordPefEfi:()=>j,coordPefTod:()=>E,coordTodMod:()=>y,coordTodPef:()=>_,limitAngleDeg:()=>o,nutationTerms:()=>a,timeGast:()=>p,timeGmst:()=>l});const f=[[0,0,0,0,1,-6798.4,-171996,-174.2,92025,8.9],[0,0,2,-2,2,182.6,-13187,-1.6,5736,-3.1],[0,0,2,0,2,13.7,-2274,-.2,977,-.5],[0,0,0,0,2,-3399.2,2062,.2,-895,.5],[0,-1,0,0,0,-365.3,-1426,3.4,54,-.1],[1,0,0,0,0,27.6,712,.1,-7,0],[0,1,2,-2,2,121.7,-517,1.2,224,-.6],[0,0,2,0,1,13.6,-386,-.4,200,0],[1,0,2,0,2,9.1,-301,0,129,-.1],[0,-1,2,-2,2,365.2,217,-.5,-95,.3],[-1,0,0,2,0,31.8,158,0,-1,0],[0,0,2,-2,1,177.8,129,.1,-70,0],[-1,0,2,0,2,27.1,123,0,-53,0],[1,0,0,0,1,27.7,63,.1,-33,0],[0,0,0,2,0,14.8,63,0,-2,0],[-1,0,2,2,2,9.6,-59,0,26,0],[-1,0,0,0,1,-27.4,-58,-.1,32,0],[1,0,2,0,1,9.1,-51,0,27,0],[-2,0,0,2,0,-205.9,-48,0,1,0],[-2,0,2,0,1,1305.5,46,0,-24,0],[0,0,2,2,2,7.1,-38,0,16,0],[2,0,2,0,2,6.9,-31,0,13,0],[2,0,0,0,0,13.8,29,0,-1,0],[1,0,2,-2,2,23.9,29,0,-12,0],[0,0,2,0,0,13.6,26,0,-1,0],[0,0,2,-2,0,173.3,-22,0,0,0],[-1,0,2,0,1,27,21,0,-10,0],[0,2,0,0,0,182.6,17,-.1,0,0],[0,2,2,-2,2,91.3,-16,.1,7,0],[-1,0,0,2,1,32,16,0,-8,0],[0,1,0,0,1,386,-15,0,9,0],[1,0,0,-2,1,-31.7,-13,0,7,0],[0,-1,0,0,1,-346.6,-12,0,6,0],[2,0,-2,0,0,-1095.2,11,0,0,0],[-1,0,2,2,1,9.5,-10,0,5,0],[1,0,2,2,2,5.6,-8,0,3,0],[0,-1,2,0,2,14.2,-7,0,3,0],[0,0,2,2,1,7.1,-7,0,3,0],[1,1,0,-2,0,-34.8,-7,0,0,0],[0,1,2,0,2,13.2,7,0,-3,0],[-2,0,0,2,1,-199.8,-6,0,3,0],[0,0,0,2,1,14.8,-6,0,3,0],[2,0,2,-2,2,12.8,6,0,-3,0],[1,0,0,2,0,9.6,6,0,0,0],[1,0,2,-2,1,23.9,6,0,-3,0],[0,0,0,-2,1,-14.7,-5,0,3,0],[0,-1,2,-2,1,346.6,-5,0,3,0],[2,0,2,0,1,6.9,-5,0,3,0],[1,-1,0,0,0,29.8,5,0,0,0],[1,0,0,-1,0,411.8,-4,0,0,0],[0,0,0,1,0,29.5,-4,0,0,0],[0,1,0,-2,0,-15.4,-4,0,0,0],[1,0,-2,0,0,-26.9,4,0,0,0],[2,0,0,-2,1,212.3,4,0,-2,0],[0,1,2,-2,1,119.6,4,0,-2,0],[1,1,0,0,0,25.6,-3,0,0,0],[1,-1,0,-1,0,-3232.9,-3,0,0,0],[-1,-1,2,2,2,9.8,-3,0,1,0],[0,-1,2,2,2,7.2,-3,0,1,0],[1,-1,2,0,2,9.4,-3,0,1,0],[3,0,2,0,2,5.5,-3,0,1,0],[-2,0,2,0,2,1615.7,-3,0,1,0],[1,0,2,0,0,9.1,3,0,0,0],[-1,0,2,4,2,5.8,-2,0,1,0],[1,0,0,0,2,27.8,-2,0,1,0],[-1,0,2,-2,1,-32.6,-2,0,1,0],[0,-2,2,-2,1,6786.3,-2,0,1,0],[-2,0,0,0,1,-13.7,-2,0,1,0],[2,0,0,0,1,13.8,2,0,-1,0],[3,0,0,0,0,9.2,2,0,0,0],[1,1,2,0,2,8.9,2,0,-1,0],[0,0,2,1,2,9.3,2,0,-1,0],[1,0,0,2,1,9.6,-1,0,0,0],[1,0,2,2,1,5.6,-1,0,1,0],[1,1,0,-2,1,-34.7,-1,0,0,0],[0,1,0,2,0,14.2,-1,0,0,0],[0,1,2,-2,0,117.5,-1,0,0,0],[0,1,-2,2,0,-329.8,-1,0,0,0],[1,0,-2,2,0,23.8,-1,0,0,0],[1,0,-2,-2,0,-9.5,-1,0,0,0],[1,0,2,-2,0,32.8,-1,0,0,0],[1,0,0,-4,0,-10.1,-1,0,0,0],[2,0,0,-4,0,-15.9,-1,0,0,0],[0,0,2,4,2,4.8,-1,0,0,0],[0,0,2,-1,2,25.4,-1,0,0,0],[-2,0,2,4,2,7.3,-1,0,1,0],[2,0,2,2,2,4.7,-1,0,0,0],[0,-1,2,0,1,14.2,-1,0,0,0],[0,0,-2,0,1,-13.6,-1,0,0,0],[0,0,4,-2,2,12.7,1,0,0,0],[0,1,0,0,2,409.2,1,0,0,0],[1,1,2,-2,2,22.5,1,0,-1,0],[3,0,2,-2,2,8.7,1,0,0,0],[-2,0,2,2,2,14.6,1,0,-1,0],[-1,0,0,0,2,-27.3,1,0,-1,0],[0,0,-2,2,1,-169,1,0,0,0],[0,1,2,0,1,13.1,1,0,0,0],[-1,0,4,0,2,9.1,1,0,0,0],[2,1,0,-2,0,131.7,1,0,0,0],[2,0,0,2,0,7.1,1,0,0,0],[2,0,2,-2,1,12.8,1,0,-1,0],[2,0,-2,0,1,-943.2,1,0,0,0],[1,-1,0,-2,0,-29.3,1,0,0,0],[-1,0,0,1,1,-388.3,1,0,0,0],[-1,-1,0,2,1,35,1,0,0,0],[0,1,0,1,0,27.3,1,0,0,0]];function a(t){const e=t*t,o=e*t,r=23.4392911111-.0130041667*t-1.6388888889e-7*e+5.0361111111e-7*o,n=1/36e6,c=f.length;let s=0,i=0;for(let e=0;e<c;e++){const o=f[e];o[0],o[1],o[2],o[3],o[4],s+=n*(o[6]+o[7]*t)*d(),i+=n*(o[8]+o[9]*t)*u()}return{eps:r,deps:i%360,dpsi:s%360}}function l(t){const e=Math.floor(t)-.5,o=Math.floor(t)+.5;let r=0;return t>e&&(r=e),t>o&&(r=o),T=(r-2451545)/36525,theta_G0=100.460618375+36000.77005360834*T+.0003879333333333333*T*T-2.583333333333333e-8*T*T*T,mod(24*(t-r)*15*1.002737909350795+theta_G0,360)}function p(t,e){void 0===e&&(e=a(t));const r=l(t),n=MathUtils.cosd(e.dpsi),c=-MathUtils.cosd(e.eps)*MathUtils.sind(e.dpsi);return o(r-atand(c/n))}function v(t,e){return[t[0],cosd(e)*t[1]+sind(e)*t[2],-sind(e)*t[1]+cosd(e)*t[2]]}function J(t,e){return[cosd(e)*t[0]-sind(e)*t[2],t[1],sind(e)*t[0]+cosd(e)*t[2]]}function M(t,e){return[cosd(e)*t[0]+sind(e)*t[1],-sind(e)*t[0]+cosd(e)*t[1],t[2]]}function h(t){const e=(t.JT-2451545)/36525,o=e*e,r=o*e,n=r*e,c=23.439279444444445-.013010213611111*e-5.086111111111112e-8*o+5.65e-8*r-1.6e-10*n-n*e*1205555555555555e-26;return rEq=v(t.r,-c),vEq=v(t.v,-c),{r:rEq,v:vEq,JT:t.JT}}function g(t){const e=(t.JT-2451545)/36525,o=e*e,r=o*e,n=r*e,c=23.439279444444445-.013010213611111*e-5.086111111111112e-8*o+5.65e-8*r-1.6e-10*n-n*e*1205555555555555e-26;return e=matrix_rot1d(-c),{r:v(t.r,c),v:v(t.v,c),JT:t.JT}}function m(t){const e=(t.JT-2451545)/36525,o=e*e,r=o*e,n=.6406161388*e+.00030407777777*o+50563888888e-16*r,c=.5567530277*e-.00011851388888*o-11620277777e-15*r,s=.6406161388*e+83855555555e-15*o+49994444444e-16*r;return{r:M(J(M(t.r,-s),c),-n),v:M(J(M(t.v,-s),c),-n),JT:t.JT}}function P(t){const e=(t.JT-2451545)/36525,o=e*e,r=o*e,n=.6406161388*e+.00030407777777*o+50563888888e-16*r,c=.5567530277*e-.00011851388888*o-11620277777e-15*r,s=.6406161388*e+83855555555e-15*o+49994444444e-16*r;return{r:M(J(M(t.r,n),-c),s),v:M(J(M(t.v,n),-c),s),JT:t.JT}}function b(t,e){const o=(t.JT-2451545)/36525;return void 0===e&&(e=a(o)),{r:v(M(v(t.r,e.eps),-e.dpsi),-e.eps-e.deps),v:v(M(v(t.v,e.eps),-e.dpsi),-e.eps-e.deps),JT:t.JT}}function y(t,e){const o=(t.JT-2451545)/36525;return void 0===e&&(e=a(o)),{r:v(M(v(t.r,e.eps+e.deps),e.dpsi),-e.eps),v:v(M(v(t.v,e.eps+e.deps),e.dpsi),-e.eps),JT:t.JT}}function _(t,e){const o=p(JT,e),r=M(t.r,o),n=M(t.v,o),c=JT-2451544.5,s=1/86400*(k_1+2*k_2*c+3*k_3*c*c);return n[0]+=s*(Math.PI/180)*(-d()*t.r[0]+u()*t.r[1]),n[0]+=s*(Math.PI/180)*(-u()*t.r[0]-d()*t.r[1]),{r,v:n,JT}}function E(t,e){const o=p(JT,e),r=M(t.r,-o),n=JT-2451544.5,c=1/86400*(k_1+2*k_2*n+3*k_3*n*n);let s=[0,0,0];return s[0]=c*(Math.PI/180)*(-d()*t.r[0]+u()*t.r[1]),s[1]=c*(Math.PI/180)*(-u()*t.r[0]-d()*t.r[1]),{r,v:M([t.v[0]-s[0],t.v[1]-s[1],t.v[2]],-o),JT}}function j(t,e,o){return{r:J(v(t.r,-o),-e),v:J(v(t.v,-o),-e),JT:t.JT}}function k(t,e,o){return{r:v(J(t.r,e),o),v:v(J(t.v,e),o),JT:t.JT}}return e})()));